{% extends "base.html" %}
{% load static %}

{% block styly %}
    <link rel="stylesheet" href="{% static 'game/side_quest.css' %}">
{% endblock styly %}

{% block content %}

{% if all_quests %}
    <div class="quests-container">
        
        {% for quest in all_quests %}
            {% if quest.done == False %}
                
                <div class="quest-card">
                    
                    <div class="quest-header-info">
                        Hráč: <b>{{ quest.player_name }}</b>
                    </div>

                    <h4>{{ quest.quest_name }}</h4>
                    <p class="quest-description">{{ quest.description }}</p>

                    <div class="quest-reward">
                        <span>✨ {{ quest.xp_reward }} XP</span>
                        <span style="font-size: 0.8em; color: #b8860b;">({{ quest.rarity }})</span>
                    </div>

                    <div class="quest-action-area">
                        <form action="{% url 'quest_done' %}" method="post" style="width: 100%;">
                            {% csrf_token %}
                            <input type="hidden" name="quest_id" value="{{ quest.id }}">
                            <button type="submit" class="quest-button">Splnit úkol</button>
                        </form>
                    </div>

                </div>

            {% endif %}
        {% endfor %}

    </div>

{% else %}
    <div class="quests-container">
        <h1><p>Nikdo nemá aktivovaný žádný quest</p></h1> 
    </div>
{% endif %}

{% endblock content %}